<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>JavaScript Clock</title>
  <style>

.d-flex {
  display: flex;
}
select {
  appearance: none;
  outline: black;
  background-color: rgb(255, 68, 68);
  padding: 0.5rem;
  font-weight: bold;
  border: none;
  border-radius: 2rem;
  margin-right: 0.3rem;
  cursor: pointer;
  color: #0E141B;
  border-color: black;
}

.mb {
  margin-bottom: 1rem;
}
.main-container {
  justify-content: center;
}

.clock-container {
  padding: 2rem;
  flex-flow: column;
  justify-content: flex-start;
  align-items: center;
  width: 50%;
  min-height: 30vh;

}
.alarm-form {
  justify-content: space-between;
  width: 50%;
}

.submit-button {
  border-color: black;
  border: 10px;
  border-radius: 2rem;
  font-weight: bold;
}


.set-alarm-container .set-alarm-container-title {
  color: black;
  font-weight: bold;
  font-size: 1rem;
}

.alarm {
  justify-content: space-between;
  border-radius: 10px;
  padding: 0.5rem 1rem;
  align-items: center;

}
.alarm .delete-alarm {
  border-radius: 2rem;
  background-color: rgba(230, 13, 13, 0.918);
  font-weight: bold;
  color: rgb(235, 255, 145);
  font-size:xx-medium;
}

.time {
  color: #0E141B;
  font-size: 1rem;
  font-weight: bold;
}

#clock {
  position: relative;
  width: 600px;
  height: 600px;
  margin: 20px auto 0 auto;
  background: url(images/clockface.png);
  background-repeat: no-repeat;
  list-style: none;
}
#sec, #min, #hour {
  position: absolute;
  width: 30px;
  height: 600px;
  top: 0px;
  left: 285px;
}
#sec {
  background: url(images/sechand.png);
  z-index: 3;
}
#min {
  background: url(images/minhand.png);
  z-index: 2;
}
#hour {
  background: url(images/hourhand.png);
  z-index: 1;
}
#digital {
  font-size: 3em;
  text-align: center;
}
  </style>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<!DOCTYPE html>
<html style="font-size: 16px;" lang="en"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Coursework</title>
    <link rel="stylesheet" href="akibtsuu.css" media="screen">
    <link rel="icon" type="image/x-icon" href="images/favicon.ico"> 
<link rel="stylesheet" href="Coursework.css" media="screen">
</head> 
<body data-home-page="/index.html" data-home-page-title="Home" class="body xl-mode" data-lang="en">
  <header class="clearfix header" id="sec-2b6b"  data-animation-delay="0" data-animation-direction=><div class="clearfix sheet sheet-1">
  <a href="index.html" class="image logo image-1" data-image-width="2560" data-image-height="1076" title="Home">
    <img src="images/logo1.png" class="logo-image logo-image-1">
  </a>
    <div class="custom-menu nav-container">
      <ul class="nav spacing-30 unstyled nav-1">
        <li class="nav-item"><a class="Page" href="index.html" style="padding: 6px 0px;">Home</a>
</li><li class="nav-item"><a class="border-2 border-active-palette-1-base border-hover-palette-1-light-1 border-no-left border-no-right border-no-top button-style nav-link text-active-custom-color-4 text-custom-color-6 text-hover-custom-color-5" href="Hobbies.html" style="padding: 6px 0px;">Hobbies</a>
</li><li class="nav-item"><a class="border-2 border-active-palette-1-base border-hover-palette-1-light-1 border-no-left border-no-right border-no-top button-style nav-link text-active-custom-color-4 text-custom-color-6 text-hover-custom-color-5" href="Coursework.html" style="padding: 6px 0px;">Coursework</a>
</li><li class="nav-item"><a class="border-2 border-active-palette-1-base border-hover-palette-1-light-1 border-no-left border-no-right border-no-top button-style nav-link text-active-custom-color-4 text-custom-color-6 text-hover-custom-color-5" href="Video.html" style="padding: 6px 0px;">Video</a>
</li><li class="nav-item"><a class="border-2 border-active-palette-1-base border-hover-palette-1-light-1 border-no-left border-no-right border-no-top button-style nav-link text-active-custom-color-4 text-custom-color-6 text-hover-custom-color-5" href="Lab4 Clock.html" style="padding: 6px 0px;">Lab4 Clock</a>
</li></ul>
    </div>
    <div class="custom-menu nav-container-collapse">
      <div class="black container-style inner-container-layout opacity opacity-95 sidenav">
        <div class="inner-container-layout sidenav-overflow">
          <div class="menclose"></div>
          <ul class="align-center nav popupmenitems unstyled nav-2"><li class="nav-item"><a class="button-style nav-link" href="index.html">Home</a>
</li><li class="nav-item"><a class="button-style nav-link" href="Hobbies.html">Hobbies</a>
</li><li class="nav-item"><a class="button-style nav-link" href="Coursework.html">Coursework</a>
</li><li class="nav-item"><a class="button-style nav-link" href="Video.html">Video</a>
</li><li class="nav-item"><a class="button-style nav-link" href="Lab4 Clock.html">Lab4 Clock</a>
</li></ul>
</div></header>
<body>
  <div class="main-container d-flex">
    <div class="clock-container d-flex">
      <!-- Current time -->
      <div class="current-time mb" id="current-time">_ : _ : _ </div>
      
      <!-- Alarm form -->
      <form class="alarm-form d-flex mb">
        <div>
          <!-- Hours -->
          <select name="hours" id="hours" required></select>
          
          <!-- Minutes -->
          <select required name="minutes" id="minutes"></select>
          
          <!-- Seconds -->
          <select required name="seconds" id="seconds"></select>
          
          <!-- AM/PM -->
          <select required name="am-pm" id="am-pm">
            <option value="AM">AM</option>
            <option value="PM">PM</option>
          </select>
        </div>
        
        <!-- Submit button -->
        <button class="btn submit-button" id="submitButton" type="submit">Set Alarm</button>
      </form>
      
      <!-- Set alarm container -->
      <div class="set-alarm-container">
        <div class="set-alarm-container-title mb">ALARMS</div>
        
        <!-- Alarms container -->
        <div class="alarms-container" id="alarms-container"></div>
      </div>
    </div>
  </div>
  
  <!-- Digital clock -->
  <div id="digital"></div>
  
  <!-- Analog clock -->
  <ul id="clock">
    <li id="sec"></li>
    <li id="min"></li>
    <li id="hour"></li>
  </ul>
</div>
  <script>
    
const currentTime = document.querySelector("#current-time");
const setHours = document.querySelector("#hours");
const setMinutes = document.querySelector("#minutes");
const setSeconds = document.querySelector("#seconds");
const setAmPm = document.querySelector("#am-pm");
const setAlarmButton = document.querySelector("#submitButton");
const alarmContainer = document.querySelector("#alarms-container");
    function startTime() {
      const today = new Date();
      let h = today.getHours();
      let m = today.getMinutes();
      let s = today.getSeconds();
      m = checkTime(m);
      s = checkTime(s);
      let sdegree = s * 6;
      let srotate = "rotate(" + sdegree + "deg)";
      let mdegree = m * 6;
      let mrotate = "rotate(" + mdegree + "deg)";
      let hdegree = h * 30 + m / 2;
      let hrotate = "rotate(" + hdegree + "deg)";
      $("#sec").css({"transform": srotate});
      $("#min").css({"transform": mrotate});
      $("#hour").css({"transform": hrotate});
      setTimeout(startTime, 1000);
    }
    function checkTime(i) {
      if (i < 10) {
        i = "0" + i;
      }
      return i;
    }
    $(document).ready(function() {
      startTime();
    });
    
    const digital = document.createElement('div');
    digital.id = 'digital';
    digital.innerHTML = '00:00:00';
    document.body.appendChild(digital);
    
    function updateDigital() {
      const now = new Date();
      let h = now.getHours();
      let m = now.getMinutes();
      let s = now.getSeconds();
      h = h < 10 ? '0' + h : h;
      m = m < 10 ? '0' + m : m;
      s = s < 10 ? '0' + s : s;
      digital.innerHTML = h + ':' + m + ':' + s;
    }
    setInterval(updateDigital, 1000);
  
;

window.addEventListener("DOMContentLoaded", (event) => {
  
  dropDownMenu(1, 12, setHours);
 
  dropDownMenu(0, 59, setMinutes);

  dropDownMenu(0, 59, setSeconds);

  setInterval(getCurrentTime, 1000);
  fetchAlarm();
});

setAlarmButton.addEventListener("click", getInput);


function dropDownMenu(start, end, element) {
  for (let i = start; i <= end; i++) {
    const dropDown = document.createElement("option");
    dropDown.value = i < 10 ? "0" + i : i;
    dropDown.innerHTML = i < 10 ? "0" + i : i;
    element.appendChild(dropDown);
  }
}


function getCurrentTime() {
  let time = new Date();
  time = time.toLocaleTimeString("en-US", {
    hour: "numeric",
    minute: "numeric",
    second: "numeric",
    hour12: true,
  });
  currentTime.innerHTML = time;

  return time;
}


function getInput(e) {
  e.preventDefault();
  const hourValue = setHours.value;
  const minuteValue = setMinutes.value;
  const secondValue = setSeconds.value;
  const amPmValue = setAmPm.value;

  const alarmTime = convertToTime(
    hourValue,
    minuteValue,
    secondValue,
    amPmValue
  );
  setAlarm(alarmTime);
}
function convertToTime(hour, minute, second, amPm) {
  return `${parseInt(hour)}:${minute}:${second} ${amPm}`;
}
function setAlarm(time, fetching = false) {
  const alarm = setInterval(() => {
    if (time === getCurrentTime()) {
      alert("Alarm Ringing");
    }
    console.log("running");
  }, 500);

  addAlaramToDom(time, alarm);
  if (!fetching) {
    saveAlarm(time);
  }
}
function addAlaramToDom(time, intervalId) {
  const alarm = document.createElement("div");
  alarm.classList.add("alarm", "mb", "d-flex");
  alarm.innerHTML = `
              <div class="time">${time}</div>
              <button class="btn delete-alarm" data-id=${intervalId}>Delete</button>
              `;
  const deleteButton = alarm.querySelector(".delete-alarm");
  deleteButton.addEventListener("click", (e) => deleteAlarm(e, time, intervalId));

  alarmContainer.prepend(alarm);
}
function checkAlarams() {
  let alarms = [];
  const isPresent = localStorage.getItem("alarms");
  if (isPresent) alarms = JSON.parse(isPresent);

  return alarms;
}
function saveAlarm(time) {
  const alarms = checkAlarams();

  alarms.push(time);
  localStorage.setItem("alarms", JSON.stringify(alarms));
}
function fetchAlarm() {
  const alarms = checkAlarams();

  alarms.forEach((time) => {
    setAlarm(time, true);
  });
}


function deleteAlarm(event, time, intervalId) {
  const self = event.target;

  clearInterval(intervalId);

  const alarm = self.parentElement;
  console.log(time);

  deleteAlarmFromLocal(time);
  alarm.remove();
}

function deleteAlarmFromLocal(time) {
  const alarms = checkAlarams();

  const index = alarms.indexOf(time);
  alarms.splice(index, 1);
  localStorage.setItem("alarms", JSON.stringify(alarms));
}
  </script>
</body>
<footer class="align-center clearfix footer grey-80 footer" id="sec-a2a9"><div class="clearfix sheet sheet-1">
  <a href="index.html" class="image logo image-1" data-image-width="2560" data-image-height="1076" title="Home">
    <img src="images/logo1.png" class="logo-image logo-image-1">
  </a>
  <div class="social-icons spacing-10 social-icons-1">
    <a class="social-url" title="twitter" target="_blank" href="https://twitter.com/elonmusk"><span class="icon social-icon social-twitter icon-1"><svg class="svg-link" preserveAspectRatio="xMidYMin slice" viewBox="0 0 112 112"><use xlink:href="#svg-fbae"></use></svg><svg class="svg-content" viewBox="0 0 112 112" x="0" y="0" id="svg-fbae"><path fill="currentColor" d="M92.2,38.2c0,0.8,0,1.6,0,2.3c0,24.3-18.6,52.4-52.6,52.4c-10.6,0.1-20.2-2.9-28.5-8.2
c1.4,0.2,2.9,0.2,4.4,0.2c8.7,0,16.7-2.9,23-7.9c-8.1-0.2-14.9-5.5-17.3-12.8c1.1,0.2,2.4,0.2,3.4,0.2c1.6,0,3.3-0.2,4.8-0.7
c-8.4-1.6-14.9-9.2-14.9-18c0-0.2,0-0.2,0-0.2c2.5,1.4,5.4,2.2,8.4,2.3c-5-3.3-8.3-8.9-8.3-15.4c0-3.4,1-6.5,2.5-9.2
c9.1,11.1,22.7,18.5,38,19.2c-0.2-1.4-0.4-2.8-0.4-4.3c0.1-10,8.3-18.2,18.5-18.2c5.4,0,10.1,2.2,13.5,5.7c4.3-0.8,8.1-2.3,11.7-4.5
c-1.4,4.3-4.3,7.9-8.1,10.1c3.7-0.4,7.3-1.4,10.6-2.9C98.9,32.3,95.7,35.5,92.2,38.2z"></path></svg></span> </div>
    <div class="linktree">
      <ul class="nav spacing-20 unstyled nav-1"><li class="nav-item"><a class="border-no-bottom border-no-left border-no-right border-no-top button-style nav-link text-active-palette-4-base text-hover-custom-color-5" href="index.html" style="padding: 10px;">Home</a>
</li><li class="nav-item"><a class="border-no-bottom border-no-left border-no-right border-no-top button-style nav-link text-active-palette-4-base text-hover-custom-color-5" href="Hobbies.html" style="padding: 10px;">Hobbies</a>
</li><li class="nav-item"><a class="border-no-bottom border-no-left border-no-right border-no-top button-style nav-link text-active-palette-4-base text-hover-custom-color-5" href="Coursework.html" style="padding: 10px;">Coursework</a>
</li><li class="nav-item"><a class="border-no-bottom border-no-left border-no-right border-no-top button-style nav-link text-active-palette-4-base text-hover-custom-color-5" href="Video.html" style="padding: 10px;">Video</a>
</li><li class="nav-item"><a class="border-no-bottom border-no-left border-no-right border-no-top button-style nav-link text-active-palette-4-base text-hover-custom-color-5" href="Lab4 Clock.html" style="padding: 10px;">Lab4 Clock</a>
</li></ul> </div>
    <div class="linktree">
      <div class="black container-style inner-container-layout opacity opacity-95 sidenav">
        <div class="inner-container-layout sidenav-overflow">
          <div class="menclose"></div>
          <ul class="align-center nav popupmenitems unstyled nav-2"><li class="nav-item"><a class="button-style nav-link" href="index.html">Home</a>
</li><li class="nav-item"><a class="button-style nav-link" href="Hobbies.html">Hobbies</a>
</li><li class="nav-item"><a class="button-style nav-link" href="Coursework.html">Coursework</a>
</li><li class="nav-item"><a class="button-style nav-link" href="Video.html">Video</a>
</li><li class="nav-item"><a class="button-style nav-link" href="Lab4 Clock.html">Lab4 Clock</a>
</li></ul></div> </div>
<div class="black menoverlay opacity opacity-70"></div>
    </div>
  </nav>
  <p class="text text-1">2013-2023 akibTsuu film productions</p>
</footer>
</body></html>
</html>